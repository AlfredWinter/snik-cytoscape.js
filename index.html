<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>SNIK Ontology Graph</title>
	<script src="js/cytoscape.js"></script>
	<script src="js/blueorange.js"></script>
	<script src="js/style.js"></script>
	<script src="js/jquery-3.1.0.min.js"></script>
	<script src="js/cytoscape-cxtmenu.js"></script>
	<script src="js/menu.js"></script>
	<script>
		const MODIFIED = "2016-08-17";
		const ONTOLOGY_MODIFIED = "2016-07-13";
		const SPARQL_ENDPOINT = "http://www.snik.eu/sparql";
		const SPARQL_GRAPH = "http://www.imise.uni-leipzig.de/snik.owl";
		const SPARQL_PREFIX = "http://www.imise.uni-leipzig.de/snik.owl#";
		const SPARQL_LIMIT = 100;
	</script>
	<script src="js/graph.js"></script>
	<link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />
	<link rel="stylesheet" type="text/css" href="css/overlay.css" media="screen" />
</head>

<body>

	<div id="top">
		<ul>
			<li><a href="http://www.snik.eu/sparql" target="_blank">SPARQL</a></li>
			<li><a href="http://linkedspending.aksw.org/snik" target="_blank">Browse</a></li>
			<li class="dropdown">
				<a href="javascript:void(0)" class="dropbtn" onclick="help()">Help</a>
				<div class="dropdown-content" id="help">
					<a href="help.html" target="_blank">SNIK Graph Help</a>
					<a href="http://www.snik.eu/" target="_blank">Project Homepage</a>
					<a href="javascript:about()">About SNIK Graph</a>
					<a href="https://github.com/IMISE/snik-ontology/issues" target="_blank">Submit Feedback about the Ontology</a>
					<a href="https://github.com/IMISE/snik-cytoscape.js/issues" target="_blank">Submit Feedback about the Visualization</a>
				</div>
			</li>
		</ul>
		<form id="search">
			<input type="text" name="query" id="query" list="matches" />

			<input type="checkbox" class="filterbox" onclick="filter(this)" checked="true"
				value="node[Sources='meta']"/>
			meta

			<input type="checkbox" class="filterbox" onclick="filter(this)" checked="true"
				value="node[Sources='bb']"/>
			BB

			<input type="checkbox" class="filterbox" onclick="filter(this)" checked="true"
				value="node[Sources='ob']"/>
			OB
<!--
			<input type="checkbox" class="filterbox" onclick="filter(this)" checked="true"
				value="node[Sources='ciox']"/>
			CioX
-->
			<input type="checkbox" class="filterbox" onclick="filter(this)" checked="true"
			value="edge[interaction='subClassOf']"/>
			subClassOf
		</form>
	</div>

	<script>
	var removed = {};

	function filter(checkbox)
	{
		var selector = checkbox.getAttribute("value");
		//console.log(selector);
		if(checkbox.checked)
		{
			var elements = removed[selector];
			if(elements)
			{
				removed[selector] = undefined;
				elements.restore();
			}
		}
		else
		{
			var elements = cy.elements(selector);
			if(elements)
			{
				// if just saving nodes, then the edges get lost
				removed[selector]=elements.union(elements.connectedEdges());
				elements.remove();
			}
		}
	}
	</script>

	<div id="overlay" class="overlay">
		<h2 id="h2:searchresults">Search Results</h2>
		<a href="javascript:void(0)" class="closebtn" onclick="hideSearchResults()">&times;</a>
		<table id="tab:searchresults"></table>
	</div>

	<script src="js/search.js"></script>

	<div id="cy" style="width:100%;height:100vh;background-color:black;"></div>

	<script>initGraph(document.getElementById('cy'));</script>
</body>
</html>